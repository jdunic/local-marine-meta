packages:
  - readr
  - dplyr
  - tidyr
  - purrr
  - ggplot2
  - lubridate
  - rmarkdown
  - metafor
  - datamart
  - stringr
  - beepr

sources:
  - R/02_functions.R
  - R/clean_master_data.R


targets:
  all:
    depends: 
      - cleaned_master_data
      #- test_report.html

  cleaned_master_data:
    command: process_master_data(rich_data, meta_data, event_data, subset_list, cbdata)

  rich_data:
    command: read_rich_data(file = 'master_data/Data.csv')
    #command: read_csv(file = 'master_data/Data.csv', col_types = I(cols(Lat = col_skip(), Long = col_skip())), I(na = c('', 'NA', 'N/A', 'Na', 'na', ' ')))
    #command: read.csv(file = 'master_data/Data.csv', header = TRUE, stringsAsFactors=FALSE, I(na.strings = c('', 'NA', 'N/A', 'Na', 'na', ' '))) 

  meta_data: 
    command: read.csv(file = 'master_data/Meta_data.csv', stringsAsFactors=FALSE)

  event_data: 
    command: read.csv(file = "master_data/Event_types.csv", stringsAsFactors = FALSE)

  subset_list: 
    command: read_csv(file = 'master_data/CB_study_list_for_reformat.csv')

  cbdata: 
    command: read_csv(file = 'master_data/robin_bts_reformat.csv')

#  test_report.html:
#    depends:
#      - Data_outputs/firstLastData_1.0.csv
#    command: render("test_report.Rmd")